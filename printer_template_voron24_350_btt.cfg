# Klipper config for xolotl, based on Voron 350mm with CanBus

### Includes
[include mainsail.cfg]
[include timelapse.cfg]
[include Klipper-Configs/voron24/fystec_hotkeys.cfg]
[include Klipper-Configs/voron24/octopus_350.cfg]
[include Klipper-Configs/common/common.cfg]
[include Klipper-Configs/common/btt-pi.cfg]
[include Klipper-Configs/macros/macros_voron24_octopus.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_270018001550535556323420-if00

[virtual_sdcard]
path: /home/user/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

[mcu hotkey]
serial: /dev/serial/by-id/usb-Klipper_rp2040_E66058919F322D30-if00
restart_method: command

#####################################################################
## 	                MCU
#####################################################################

[mcu EBBCan]
#serial: /dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00
canbus_uuid: 23811d56cd7e   
#  The following command is used to view the ID of canbus and needs to be entered in the ssh terminal.
# “ ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 ”

#--------------------------------------------------------------

# [mcu]
#serial: /dev/serial/by-id/usb-Klipper_stm32h723xx_slipper-if00
#--------------------------------------------------------------
# Query the ID of canbus：
# cd ~/CanBoot/scripts
# python3 flash_can.py -i can0 -q
# canbus_uuid= 4a685e393f95     
# canbus_interface:can0

#####################################################################
##                     Model and acceleration
#####################################################################
[printer]
kinematics: corexy           # Printer type：corexy
max_velocity: 300            # Maximum speed (max. 300)
max_accel: 5000              # Maximum acceleration (max. 4000)
max_accel_to_decel: 5000     # Maximum acceleration to deceleration (max. 4000)
max_z_velocity: 15           # Z-axis maximum speed
max_z_accel: 350             # Z-axis maximum acceleration
square_corner_velocity: 5.0  # Square corner speed

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE8, EXP1_2=PE7,
    EXP1_3=PE9, EXP1_4=PE10,
    EXP1_5=PE12, EXP1_6=PE13,       # Slot in the socket on this side
    EXP1_7=PE14, EXP1_8=PE15,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PA6, EXP2_2=PA5,
    EXP2_3=PB1, EXP2_4=PA4,
    EXP2_5=PB2, EXP2_6=PA7,         # Slot in the socket on this side
    EXP2_7=PC15, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=PC5

