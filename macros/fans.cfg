[gcode_macro EXHAUST_FAN]
description:
gcode:
  {% set speed = params.SPEED|default(0.0)|float %}
  {% if printer['fan'].get('exhaust_fan') %}
    SET_FAN_SPEED FAN=exhaust_fan SPEED={speed}
  {% else %}
    {action_respond_info("exhaust_fan does not exist")}
  {% endif %}

[gcode_macro BED_FANS]
description: Control bed fan
gcode:
  {% set speed = params.SPEED|default(0.0)|float %}
  {% if 'bed_fans' in printer %}
    SET_FAN_SPEED FAN=bed_fans SPEED={speed}
  {% else %}
    {action_respond_info("bed_fans does not exist")}
  {% endif %}
